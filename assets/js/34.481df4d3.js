(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{332:function(e,t,a){"use strict";a.r(t);var n=a(14),s=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ready"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ready"}},[e._v("#")]),e._v(" ready")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# use node16\nnvm use 16\n\n# install vue cli\nnpm i -g @vue/cli --registry=https://registry.npm.taobao.org\n\n# install electron\n# 总卡在idealTree:node_modules/electron/node_modules/global-agent Completed in 117ms\n# npm i -g electron --registry=https://registry.npm.taobao.org\n# 改用cnpm安装electron\nnpm i -g cnpm --registry=https://registry.npmmirror.com\ncnpm install electron -D\n\n# show electron version\nelectron -v\nv22.0.2\n")])])]),t("h1",{attrs:{id:"new-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#new-project"}},[e._v("#")]),e._v(" new project")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# create new project\nvue create election-demo\n\n# add electron-builder\ncd election-demo\nvue add electron-builder\n\n# retry when fail\ncnpm install\n")])])]),t("h1",{attrs:{id:"run-test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-test"}},[e._v("#")]),e._v(" run test")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cnpm run electron:serve\n")])])]),t("h1",{attrs:{id:"package"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package"}},[e._v("#")]),e._v(" package")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cnpm run electron:build\n")])])]),t("p",[e._v("报错Error: Exit code: ENOENT. spawn /usr/bin/python ENOENT")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo ln -s /usr/bin/python3 /usr/bin/python\nPassword:\nln: /usr/bin/python: Read-only file system\n")])])]),t("p",[e._v("mac不允许在/usr/bin下建软链接，同时electron:build不支持python3，此时需安装pyenv")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("pyenv shell 2.7.18\ncnpm run electron:build\n")])])]),t("p",[e._v("仍然报错，设置临时PYTHON_PATH")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("pyenv shell 2.7.18\nexport PYTHON_PATH=/Users/yan/.pyenv/shims/python && cnpm run electron:build\n\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code")])])])}),[],!1,null,null,null);t.default=s.exports}}]);